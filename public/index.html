<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Competitiors Tracker</title>
    <link rel="stylesheet" href="styles.css">

        <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-storage.js"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyD_8FsT8iX3kCOePid5DH0zrfaF57r3eS0",
        authDomain: "competitiors-tracker.firebaseapp.com",
        databaseURL: "https://competitiors-tracker.firebaseio.com",
        projectId: "competitiors-tracker",
        storageBucket: "competitiors-tracker.appspot.com",
        messagingSenderId: "682540991154",
        appId: "1:682540991154:web:245030c8843252556cbfab",
        measurementId: "G-ED5EHYS5E7"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
    </script>

    <script src="app.js" defer></script>

</head>
<body>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" 
            integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

            
            <div class="hero-image">
                <div class="hero-text">
                  <h1 style="font-size:50px; font-weight: bold;">Competitors tracker</h1>
                  <div id="userDetails"></div>
                </div>
              </div>

    <section id="whenSignedOut">
        <button type="button" class="btn btn-primary" id="signInBtn">Sign In With Google</button>
    </section>

    <section id="whenSignedIn">

        

        <section id="registerTeam" hidden="true">
            <div>
                <h3>Register a team: </h3>
                <div class="form-group">
                    <label for="name">Team name:</label>
                    <input class="form-control" id="name">
                </div>

                <div class="form-group">
                    <label for="sports">Sports:</label>
                    <select class="form-control" id="sports">
                        <option>Taekwondo</option>
                        <option>Tennis</option>
                        <option>Snooker</option>
                    </select>
                </div>


                <div class="form-group">
                    <label for="coach">Head Coach:</label>
                    <input class="form-control" id="coach">
                </div>


                <button type="button" class="btn btn-secondary" id="addTeamToDB">Register Team</button>
            </div>
        </section>

        <section id="whenRegisteredTeam">

            <div id="menusHolder" class="container-fluid">
                <div class="row">
                    <div class="col-lg-5 cl-sm-12">
                        <div class="tile">
                            <div>
                                <a href="#" id="registerCompetitorBtn" data-toggle="modal" data-target="#modalRegisterCompetitor">Register Competitor</a>
                            </div>
                            <span>
                                Add a competitior to your team's database. You will be prompted to enter their information and insert a photo. 
                                The competitior will be added to the right sidebar.
                            </span>
                        </div>
                    </div>

                    <div class="col-lg-5 cl-sm-12">
                        <div class="tile">
                            <div>
                                <a href="#" id="registerCompetitionBtn" data-toggle="modal" data-target="#modalRegisterCompetition">Add Competition</a>
                            </div>
                            <span>
                                Add a competition that your team participated in. This way you can easily track your athletes progress over time.
                            </span>
                        </div>
                    </div>
                    
                    <div class="col-lg-5 cl-sm-12">
                        <div class="tile">
                            <div>
                                <a href="#" id="registerResult" data-toggle="modal" data-target="#modalRegisterResult">Add Result</a>
                            </div>
                            <span>
                                The result includes a Competitor, a Competition and placement. 
                                If you do not see either the competitior or the competition in the lists, you must add them first (see above).
                            </span>
                        </div>
                    </div>

                    <div class="col-lg-5 cl-sm-12">
                        <div class="tile">
                            <div>
                                <a href="#" id="showFilters" data-toggle="modal" data-target="#modalFilters">Filter Results</a>
                            </div>
                            <span>
                                Tracking statistics made easier! Filter results based on dates, competitors and competitions.
                                Then see the summary and find out who your most successful athlete is!
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="modalRegisterCompetitor">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 class="modal-title">Register Competitor</h2>
                            <button class="close" type="button" data-dismiss="modal">&times</button>
                        </div>

                        <div class="modal-body">
                            <div class="form-group">
                                <label for="competitorName">Name:</label>
                                <input class="form-control" id="competitorName">
                            </div>
                            <div class="form-group">

                                <label for="competitorBirthDate ">Birth Date</label>
                                <input class="form-control" type="date" id="competitorBirthDate">
                            </div>
                            <div class="form-group">
                                <label for="competitorStartYear">Start Year</label>
                                <input class="form-control" id="competitorStartYear"> 
                            </div>
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="form-group custom-file col-lg-8" id="fileSelectHolder">
                                        <label class="custom-file-label">addCompetitorPhoto</label>
                                        <input type="file" class="form-control custom-file-input" value="upload" id="addCompetitorPhoto">
                                        <div>
                                            <div id="photoHolder" style="height: 150px"></div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <button class="btn btn-secondary" type="button" id="addCompetitorToDB">Add</button>
                                    </div>
                                </div>
                            </div>

                            
                            
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="modalShowCompetitor">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 class="modal-title">Competitor Info</h2>
                            <button class="close" type="button" data-dismiss="modal">x</button>
                        </div>

                        <div class="modal-body">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-lg-4" style="margin-right:10px" id="registeredPhotoHolder">
                                        <img id="registeredPhoto">
                                    </div>
                                    <div class="col-lg-7">
                                        <div class="form-group">
                                            <label for="registeredCompetitorName">Name:</label>
                                            <input class="form-control" id="registeredCompetitorName" disabled>
                                        </div>
                                        <div class="form-group">
                                            <label for="registeredCompetitorBirthDate ">Birth Date</label>
                                            <input class="form-control" type="date" id="registeredCompetitorBirthDate" disabled>
                                        </div>
                                        <div class="form-group">
                                            <label for="registeredCompetitorStartYear">Start Year</label>
                                            <input class="form-control" id="registeredCompetitorStartYear" disabled>
                                        </div> 
                                    </div>
                                </div>
                                
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="modalRegisterCompetition">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 class="modal-title">Add Competition</h2>
                            <button class="close" type="button" data-dismiss="modal">&times</button>
                        </div>

                        <div class="modal-body">
                            <div class="form-group">
                                <label for="competitionName">Name:</label>
                                <input class="form-control" id="competitionName">
                            </div>
                            <div class="form-group">
                                <label for="competitionCountry">Country</label>
                                <input class="form-control" id="competitionCountry"> 
                            </div>

                            <div class="form-group">
                                <label for="competitionCity">City</label>
                                <input class="form-control" id="competitionCity"> 
                            </div>
                            <div class="form-group">
                                <label for="competitionStartDate ">Start Date</label>
                                <input class="form-control" type="date" id="competitionStartDate">
                            </div>
                            <div class="form-group">
                                <label for="competitionEndDate ">End Date</label>
                                <input class="form-control" type="date" id="competitionEndDate">
                            </div>
                            <div class="form-group">
                                <label for="competitionVenue">Venue</label>
                                <input class="form-control" id="competitionVenue"> 
                            </div>
                            <div class="form-group">
                                <label for="competitionRank">Rank</label>
                                <input class="form-control" id="competitionRank"> 
                            </div>
                                <button type="button" class="btn btn-secondary" id="addCompetitionToDB">Add</button>
                            
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal" id="modalRegisterResult">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 class="modal-title">Add Result</h2>
                            <button class="close" type="button" data-dismiss="modal">&times</button>
                        </div>

                        <div class="modal-body">
                            <div class="form-group">
                                <label for="competitorNameResult">Name:</label>
                                <select class="form-control" id="competitorNameResult">
                                    
                                </select>
                            </div>
                            <div class="form-group">

                                <label for="competitionResult">Competition</label>
                                <select class="form-control" id="competitionResult"> 

                                </select>
                            </div>
                            <div class="form-group">
                                <label for="result">Placement</label>
                                <select class="form-control" id="result">
                                    <option>1</option>
                                    <option>2</option> 
                                    <option>3</option> 
                                    <option>4</option> 
                                    <option>5</option> 
                                    <option>6</option> 
                                    <option>7</option>  
                                    <option>8</option> 
                                    <option>9-16</option>
                                    <option>17-32</option> 
                                    <option>33-64</option> 
                                </select>
                            </div>
                            
                            <button type="button" class="btn btn-secondary" id="addResultToDB">Add</button>
                            
                        </div>
                    </div>
                </div>
            </div>

            

            <div class="modal" id="modalFilters">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 class="modal-title">Filters</h2>
                            <button class="close" type="button" data-dismiss="modal">&times</button>
                        </div>

                        <div class="modal-body">
                            <div class="form-group">
                                <label for="filterName">Name:</label>
                                <select class="form-control" id="filterName">
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="filterCompetition">Competition</label>
                                <select class="form-control" id="filterCompetition"> 
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="filterDateStart">From: </label>
                                <input class="form-control" type="date" id="filterDateStart">
                            </div>
                            <div class="form-group">
                                <label for="filterDateEnd">Until: </label>
                                <input class="form-control" type="date" id="filterDateEnd">
                            </div>
                            
                            
                            <button class="btn btn-secondary" type="button" id="filter">Filter</button>

                            <table id="filteredResults"></table>

                            <table id="filterSummary">

                            </table>
                            
                        </div>
                    </div>
                </div>
            </div>

            
           
            <!-- <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; List Competitors</span> -->
            <div id="competitorsSideNav" class="sidenav">
                <span style="color: white; margin-left: 20px; font-size: 20px">Registered Competitors:</span>
                <!-- <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a> -->
                <!-- <a href="javascript:void(0)" class="closebtn">&times;</a> -->
                <div id="competitorsSideNavNamesHolder" style="margin-top:30px">

                </div>
              </div>
        </section>

        <button type="button" class="btn btn-primary" style="margin:20px;" id="signOutBtn">Sign Out</button>
    </section>
    
</body>
</html>